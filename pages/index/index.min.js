window.addEventListener('DOMContentLoaded', function () {

let cards = document.querySelectorAll('.card');
if (window.matchMedia("(max-width: 992px)").matches) {
	for (let i = 4; i < cards.length; i++) {
		cards[i].style.display = 'none';
	}
}

let chooseBtn = document.querySelector('.jsScroll');

chooseBtn.addEventListener('click', function(event) {
	event.preventDefault();
	animate(function (timePassed) {
		let target = event.target;
		let section = document.querySelector('.catalog__title');
		window.scrollBy(0, section.getBoundingClientRect().top / 10 - 4);
	}, 1200);
});

function animate(draw, duration) {
	let start = performance.now();
	requestAnimationFrame(
		function animate(time) {
			let timePassed = time - start;
			if (timePassed > duration) {
				timePassed = duration;
			}
			draw(timePassed);

			if (timePassed < duration) {
				requestAnimationFrame(animate);
			}
		});
};


});

window.addEventListener('DOMContentLoaded', function () {

	const popup = document.querySelector('.popupWrap');
	const popupClose = document.querySelector('.jsClosePopup');
	const cards = document.querySelectorAll('.jsShowPopup');

	const showModal = function() {
		popup.style.display = 'block';
		// document.body.style.overflow = 'hidden';
	};

	cards.forEach(card => {
		card.addEventListener('click', showModal)
	});

	popupClose.addEventListener('click', () => {
		popup.style.display = 'none';
		// document.body.style.overflow = '';
	});

});

window.addEventListener('DOMContentLoaded', function () {
	const burger = document.querySelector('.jsShowMenu');
	const menu = document.querySelector('.jsMainMenu');

	burger.addEventListener('click', () => {
		menu.classList.toggle('fadeIn');
		menu.classList.toggle('fadeOut');
		setTimeout(function() {
		burger.classList.toggle('on');
		menu.classList.toggle('show');
		}, 1000);
	});
});

window.addEventListener('DOMContentLoaded', function () {

	let galleryItem = document.querySelectorAll('.jsGalleryItem');
	let galleryMain = document.querySelector('.jsGalleryMain');
	let galleryGrid = document.querySelector('.jsGalleryGrid');

	galleryGrid.addEventListener('click', event => {
		let target = event.target;

		if(target.classList.contains('jsGalleryItem')) {

			for (let i = 0; i < galleryItem.length; i++) {
				
				if (target == galleryItem[i]) {
					// alert(i);
					showGalleryItem(i);
					break;
				}
			}
		}
	});

	function showGalleryItem(n) {
		galleryMain.src = galleryItem[n].src;
	};

});
